{% extends 'reviews/content.html' %}
{% block home %}
    <div class="category-holder v-flex">
        <div class="v-flex category">
            <div class="h-flex" style="width: 100%;">
                <a href="{% url 'reviews:home' %}?category=popular">
                    <h1 class="category-title">Popular</h1>
                </a>
            </div>
            <div id="pop-carousel" class="h-flex category-content">
                <div class="bc-primary h-flex swipe swipe-left">
                    <i class="fas fa-chevron-left"></i>
                </div>
                <div class="reviews-wrapper carousel-type">
                    <div class="h-flex reviews pop">
                        {% for review in popular %}
                            <div class="review h-flex">
                                <div class="v-flex review-cover">
                                    <img class="film-cover" src="{{ review.cover.url }}">
                                </div>
                                <div class="more-info">
                                    <div class="animation-div"></div>
                                    <div class="more-info-wrapper v-flex">
                                        <div class="film-title h-flex">
                                            <h4>{{ review.title }}</h4>
                                            <h6>({{ review.year }})</h6>
                                        </div>
                                        <div class="plot">
                                            <p>{{ review.description }}</p>
                                        </div>
                                        <div class="starring">
                                            <p>
                                                Starring:
                                                <span class="cast-member">Abbes Moh</span>,
                                                <span class="cast-member">Lola Jolin</span>,
                                                <span class="cast-member">Jake Gel</span>,
                                                <span class="cast-member">Hahohi Khouya</span>
                                            </p>
                                        </div>
                                        <div class="genres">
                                            <p>Genres:
                                                <span class="genre">{{ review.genre }}</span>
                                            </p>
                                        </div>
                                        <div class="rating v-flex">
                                            <div class="imdb-rating">IMDb rating: <span
                                                    class="imdb-rating-value">{{ review.IMDB_rating }}</span></div>
                                            <div class="ismdb-rating">IsMDb rating: <span
                                                    class="ismdb-rating-value">{{ review.MPAA_rating }}</span></div>
                                        </div>
                                        <div class="review-actions h-flex">
                                            <div class="bookmark-rev-later">
                                                <i title="Bookmark" class="far fa-bookmark"></i>
                                                <i title="Review later" class="far fa-clock"></i>
                                            </div>
                                            <a href="{% url 'reviews:review' %}?id={{ review.id }}">
                                                <button class="view-review" type="button" name="action">View Review
                                                </button>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="bc-primary h-flex swipe swipe-right">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
            <div class="h-flex" style="width: 100%;">
                <a href="{% url 'reviews:home' %}?category=popular">
                    <h5 class="see-more c-accent">SEE MORE</h5>
                </a>
            </div>
        </div>
        <div class="v-flex category">
            <div class="h-flex" style="width: 100%;">
                <a href="{% url 'reviews:home' %}?category=recently_added">
                    <h1 class="category-title">Recently Added</h1>
                </a>
            </div>
            <div id="rec-carousel" class="h-flex category-content">
                <div class="bc-primary h-flex swipe swipe-left">
                    <i class="fas fa-chevron-left"></i>
                </div>
                <div class="reviews-wrapper carousel-type">
                    <div class="h-flex reviews rec">
                        {% for review in recently_added %}
                            <div class="review h-flex">
                                <div class="v-flex review-cover">
                                    <img class="film-cover" src="{{ review.cover.url }}">
                                </div>
                                <div class="more-info">
                                    <div class="animation-div"></div>
                                    <div class="more-info-wrapper v-flex">
                                        <div class="film-title h-flex">
                                            <h4>{{ review.title }}</h4>
                                            <h6>({{ review.year }})</h6>
                                        </div>
                                        <div class="plot">
                                            <p>{{ review.description }}</p>
                                        </div>
                                        <div class="starring">
                                            <p>
                                                Starring:
                                                <span class="cast-member">Abbes Moh</span>,
                                                <span class="cast-member">Lola Jolin</span>,
                                                <span class="cast-member">Jake Gel</span>,
                                                <span class="cast-member">Hahohi Khouya</span>
                                            </p>
                                        </div>
                                        <div class="genres">
                                            <p>Genres:
                                                <span class="genre">{{ review.genre }}</span>
                                            </p>
                                        </div>
                                        <div class="rating v-flex">
                                            <div class="imdb-rating">IMDb rating: <span
                                                    class="imdb-rating-value">{{ review.IMDB_rating }}</span></div>
                                            <div class="ismdb-rating">IsMDb rating: <span
                                                    class="ismdb-rating-value">{{ review.MPAA_rating }}</span></div>
                                        </div>
                                        <div class="review-actions h-flex">
                                            <div class="bookmark-rev-later">
                                                <i title="Bookmark" class="far fa-bookmark"></i>
                                                <i title="Review later" class="far fa-clock"></i>
                                            </div>
                                            <a href="{% url 'reviews:review' %}?id={{ review.id }}">
                                                <button class="view-review" type="button" name="action">View Review
                                                </button>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                        <div class="review"></div>
                    </div>
                </div>
                <div class="bc-primary h-flex swipe swipe-right">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
            <div class="h-flex" style="width: 100%;">
                <a href="{% url 'reviews:home' %}?category=recently_added">
                    <h5 class="see-more c-accent">SEE MORE</h5>
                </a>
            </div>
        </div>
        <div class="v-flex category">
            <div class="h-flex" style="width: 100%;">
                <a href="{% url 'reviews:home' %}?category=explore">
                    <h1 class="category-title">Explore</h1>
                </a>
            </div>
            <div class="h-flex" style="width: 100%;">
                <div class="h-flex category-content">
                    <div class="v-flex reviews-wrapper list-type">
                        <div class="h-flex reviews">
                            {% for review in reviews %}
                                <div class="review h-flex">
                                    <div class="v-flex review-cover">
                                        <img class="film-cover" src="{{ review.cover.url }}">
                                    </div>
                                    <div class="more-info">
                                        <div class="animation-div"></div>
                                        <div class="more-info-wrapper v-flex">
                                            <div class="film-title h-flex">
                                                <h4>{{ review.title }}</h4>
                                                <h6>({{ review.year }})</h6>
                                            </div>
                                            <div class="plot">
                                                <p>{{ review.description }}</p>
                                            </div>
                                            <div class="starring">
                                                <p>
                                                    {% for cast in casts %}
                                                        {% if cast.movieID == review.id %}
                                                            Directors/Writers:
                                                            {% if cast.castID.role == 'Director' or cast.castID.role == 'Writer' %}
                                                                <span class="cast-member">{{ cast.castID.first_name }} {{ cast.castID.last_name }}</span>
                                                            {% endif %}
                                                            Actors:
                                                            {% if cast.castID.role == 'Actor' %}
                                                                <span class="cast-member">{{ cast.castID.first_name }} {{ cast.castID.last_name }}</span>
                                                            {% endif %}
                                                        {% endif %}
                                                    {% endfor %}
                                                </p>
                                            </div>
                                            <div class="genres">
                                                <p>Genres:
                                                    <span class="genre">{{ review.genre }}</span>
                                                </p>
                                            </div>
                                            <div class="rating v-flex">
                                                <div class="imdb-rating">IMDb rating: <span
                                                        class="imdb-rating-value">{{ review.IMDB_rating }}</span>
                                                </div>
                                                <div class="ismdb-rating">IsMDb rating: <span
                                                        class="ismdb-rating-value">{{ review.MPAA_rating }}</span>
                                                </div>
                                            </div>
                                            <div class="review-actions h-flex">
                                                <div class="bookmark-rev-later">
                                                    <i title="Bookmark" class="far fa-bookmark"></i>
                                                    <i title="Review later" class="far fa-clock"></i>
                                                </div>
                                                <a href="{% url 'reviews:review' %}?id={{ review.id }}">
                                                    <button class="view-review" type="button" name="action">View
                                                        Review
                                                    </button>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                            <div class="review"></div>
                        </div>
                    </div>
                </div>

                <div class="h-flex" style="width: 100%;">
                    <a href="{% url 'reviews:home' %}?category=explore">
                        <h5 class="see-more c-accent">SEE MORE</h5>
                    </a>
                </div>
            </div>
        </div>
{% endblock %}